<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
<script type="text/javascript" id="1">
	function prepend(arr,item){
		var a =[];
		for(var i=0;i<arr.length;i++){
			a.push(arr[i])
		}
		a.unshift(item)

		return a.unshift(item)
	} 

	// console.log(prepend([1,2,3,4],10))
	//1.在数组arr开头添加元素item,不要直接修改数组arr,结果返回新的数组
</script>
<div id="counter"></div>
<button id="cancel" onclick="count()">cancel</button>
<script type="text/javascript">
	function tick1(start,end){
		var cou = document.getElementById('counter');
		 console.log(start)
		var timer = setInterval(function(){
			if(start<=end){
				console.log(++start);
				cou.innerHTML = start;
			}
			else{
				clearInterval(timer)
			}
		},1000);

		return {
			cancel: function(){
				clearInterval(timer)
			}
		};



		  
		  
		  
	}
	 

	 function count(start,end){
	 	if(start <= end){
	 		console.log(start);
	 		start++;
	 		st = setTimeout(function(){count(start,end)},1000);
	 	}
	 	return {
	 		cancel: function(){
	 			clearSetTimeout(st);
	 		}
	 	}
	 }
	 // count(0,100)


	 // 函数传参
	 // 将数组 arr 中的元素作为调用函数 fn 的参数
    function argsAsArray(fn, arr) {
		fn(arr[0],arr[1],arr[2])
		console.log(fn(arr[0],arr[1],arr[2]))
		console.log(argsAsArray.name)
		return fn.apply(this,arr);
	}	
	argsAsArray(function (greeting, name, punctuation) 
	{
		return greeting + ', ' + name + (punctuation || '!');
	}, ['Hello', 'Ellie', '!'])
	 
	// 调用函数有3种方式：
	// obj.func();
	// func.call(obj,args);//参数列出
	// func.apply(obj,[m,n......]);//参数数组
	 

	 //返回函数
	var s = function functionFunction(str){
	 	var f = function(s){
	 		return str +", "+s;
	 	}
	 	return f
	 }


	 // var s = functionFunction('hello')('wo')
	 console.log(s('hello'))

	 //属性遍历
	 // 找出对象 obj 不在原型链上的属性(注意这题测试例子的冒号后面也有一个空格~) 1、返回数组，格式为 key: value 2、结果数组不要求顺序
	 //hasOwvProperty检测对象是否存在与实例中
	 var C = function() {
	 	this.foo = 'bar'; 
	 	this.baz = 'bim';
	 }; 
	 C.prototype.bop = 'bip'; 
	 console.log(iterate(new C()))
	 function iterate(obj) {
		var arr = [];	 	
	 	for(i in obj){
	 		if(obj.hasOwnProperty(i)){
	 			arr.push(i+': '+obj[i])
	 		}else{
	 			continue
	 		}
	 	}
	 	return arr
	}


	//闭包
// 	实现函数 makeClosures，调用之后满足如下条件：
// 1、返回一个函数数组 result，长度与 arr 相同
// 2、运行 result 中第 i 个函数，即 result[i]()，结果与 fn(arr[i]) 相同 
	
	// function makeClosures(arr, fn) {
	// 	var  result = [];
	// 	var i=0,
	// 		len = arr.length;
	// 	for(;i<len;i+=1){
	// 		result.push(fn);
	// 		console.log(arguments[0])
	// 	}
	// 	console.log(result)
	// 	return function(){

	// 	};
	// }
	// var arr = [1, 2, 3]; 
	// var square = function (x) 
	// { return x * x; }; 
	// var funcs = makeClosures(arr, square); 
	// funcs[1]();
	// console.log(funcs[1])



	//实现函数 functionFunction，调用之后满足如下条件：
	// 1、返回值为一个函数 f
	// 2、调用返回的函数 f，返回值为按照调用顺序的参数拼接，拼接字符为英文逗号加一个空格，即 ', '
	// 3、所有函数的参数数量为 1，且均为 String 类型 

	function functionFunction(str) {
		var temp = arguments[0]
		return function(){
			return str+', '+arguments[0]
		}
	}
	functionFunction('Hello')('world')//Hello, world
	console.log(functionFunction('Hello')('world'))
	 </script>
	
</body>
</html>